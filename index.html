<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" type="text/css" href="my.osm.css"/>

  <link rel="shortcut icon" type="image/png" href="jasmine/lib/jasmine-2.0.1/jasmine_favicon.png">
  <link rel="stylesheet" type="text/css" href="jasmine/lib/jasmine-2.0.1/jasmine.css">

  <script src="d3/d3.js" charset="utf-8"></script>

  <script src="osm.data.js" charset="utf-8"></script>
  <script src="osm.svg.js" charset="utf-8"></script>
  <script src="osm.ui.js" charset="utf-8"></script>
  <script type="text/javascript">
    var ui = osm.ui();
    var svg = osm.svg();

    function render_features() {
      svg.on("node_hover_started", ui.hover_started_handler)
         .on("node_hover_ended", ui.hover_ended_handler)
         .on("node_clicked", ui.clicked_feature_handler);
      svg.draw_nodes("node shop",
                     "tag[k=shop]")
         .draw_nodes("node busstop",
                     "tag[k=highway][v=bus_stop]")
         .draw_nodes("node leisure",
                     "tag[k=leisure]")
         .draw_nodes("node power",
                     "tag[k=power]")
         .draw_nodes("node restaurant",
                     "tag[k=amenity][v=restaurant]")
         .draw_nodes("node recycling",
                     "tag[v=recycling]");

      svg.draw_ways("building",
                    "tag[k=building][v=yes]");
    }

    svg.view("#renderArea");
    svg.on("loaded", render_features);
    svg.load("martinsried.osm");
  </script>
</head>

<body>
  <svg id="renderArea" width="1000" height="1000" class="ui background">
    <g id="features" />
    <g id="ui" class="ui" />
  </svg>

</body>
</html>
